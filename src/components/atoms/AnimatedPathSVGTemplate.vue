<template>
  <div
    class="box-border items-center justify-center max-h-screen p-0 m-0 border-8 bg-slate-600 lex border-red"
  >
    <!-- <pre>logopaths? {{ logoLengths }}</pre> -->
    <svg
      id="logo"
      :style="css"
      fill="none"
      width="100mm"
      height="100mm"
      viewBox="0 0 230 230"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="m 40.950108,106.78751 q 0,7.6857 -4.203777,11.59224 -4.161315,3.86408 -11.634697,3.86408 H 16.661616 V 91.925675 h 9.341728 q 4.585939,0 7.940469,1.698496 3.354529,1.698496 5.180412,5.010563 1.825883,3.269606 1.825883,8.152776 z m -4.033928,0.12739 q 0,-6.07212 -3.01483,-8.874639 -2.972368,-2.844981 -8.450017,-2.844981 h -4.968101 v 23.77894 h 4.118853 q 12.314095,0 12.314095,-12.05932 z"
        stroke="white"
        stroke-width="1"
      />
      <path
        d="m 55.939316,99.059358 q 2.929905,0 5.010563,1.273872 2.12312,1.27387 3.227142,3.6093 1.146485,2.29297 1.146485,5.39273 v 2.25051 h -15.5837 q 0.08492,3.86407 1.95327,5.90227 1.910808,1.99573 5.3078,1.99573 2.165582,0 3.821616,-0.38216 1.698496,-0.42462 3.481916,-1.18895 v 3.26961 q -1.740958,0.76432 -3.439454,1.10402 -1.698496,0.38216 -4.033928,0.38216 -3.227142,0 -5.732423,-1.31633 -2.46282,-1.31634 -3.864079,-3.90654 -1.358796,-2.63267 -1.358796,-6.41183 0,-3.73669 1.231409,-6.41182 1.273872,-2.67513 3.524379,-4.11885 2.29297,-1.443722 5.3078,-1.443722 z m -0.04246,3.057292 q -2.675132,0 -4.24624,1.74096 -1.528647,1.6985 -1.825883,4.75579 h 11.592234 q -0.04246,-2.88745 -1.358796,-4.67087 -1.316335,-1.82588 -4.161315,-1.82588 z"
        stroke="white"
        stroke-width="1"
      />
      <path
        d="m 85.917734,115.95939 q 0,3.31207 -2.462819,5.01057 -2.462819,1.69849 -6.624135,1.69849 -2.377894,0 -4.118852,-0.38216 -1.698496,-0.38216 -3.014831,-1.06156 v -3.39699 q 1.358797,0.6794 3.269605,1.27387 1.953271,0.55201 3.949003,0.55201 2.844981,0 4.118853,-0.89171 1.273872,-0.93417 1.273872,-2.46282 0,-0.84925 -0.467087,-1.52864 -0.467086,-0.6794 -1.698495,-1.3588 -1.188948,-0.6794 -3.439455,-1.52865 -2.208044,-0.84925 -3.779153,-1.69849 -1.571109,-0.84925 -2.420357,-2.0382 -0.849248,-1.18895 -0.849248,-3.05729 0,-2.88744 2.335432,-4.45855 2.377894,-1.571112 6.19951,-1.571112 2.080658,0 3.864078,0.424624 1.825884,0.382162 3.396992,1.104018 l -1.273872,2.97237 q -1.443721,-0.59447 -3.01483,-1.0191 -1.571109,-0.42462 -3.227142,-0.42462 -2.29297,0 -3.524379,0.76432 -1.188947,0.72186 -1.188947,1.99574 0,0.93417 0.552011,1.61357 0.552011,0.63693 1.825883,1.27387 1.316334,0.59447 3.481917,1.44372 2.165582,0.80679 3.694228,1.65604 1.528647,0.84924 2.335432,2.08065 0.806786,1.18895 0.806786,3.01483 z"
        stroke="white"
        stroke-width="1"
      />
      <path
        d="m 93.348657,90.94904 q 0.849248,0 1.486184,0.594474 0.679399,0.552011 0.679399,1.78342 0,1.188948 -0.679399,1.783421 -0.636936,0.594474 -1.486184,0.594474 -0.934172,0 -1.571108,-0.594474 -0.636936,-0.594473 -0.636936,-1.783421 0,-1.231409 0.636936,-1.78342 0.636936,-0.594474 1.571108,-0.594474 z m 1.825884,8.534942 V 122.24383 H 91.437849 V 99.483982 Z"
        stroke="white"
        stroke-width="1"
      />
      <path
        d="m 110.46098,99.059358 q 2.25051,0 4.03393,0.849248 1.82588,0.849244 3.09975,2.590204 h 0.21232 l 0.50955,-3.014828 h 2.97236 v 23.142008 q 0,4.88318 -2.50528,7.34599 -2.46282,2.46282 -7.68569,2.46282 -5.01057,0 -8.19525,-1.44372 v -3.43945 q 3.35453,1.78342 8.40756,1.78342 2.92991,0 4.58594,-1.74096 1.69849,-1.6985 1.69849,-4.67086 v -0.89171 q 0,-0.50955 0.0425,-1.44373 0.0425,-0.97663 0.0849,-1.35879 h -0.16985 q -2.29297,3.43945 -7.04876,3.43945 -4.41609,0 -6.92137,-3.09975 -2.46282,-3.09976 -2.46282,-8.66233 0,-5.43519 2.46282,-8.61987 2.50528,-3.227142 6.87891,-3.227142 z m 0.50955,3.142222 q -2.84498,0 -4.41609,2.29297 -1.57111,2.2505 -1.57111,6.45428 0,4.20378 1.52865,6.45428 1.57111,2.20805 4.54348,2.20805 3.43945,0 5.01056,-1.82588 1.57111,-1.86835 1.57111,-5.9872 v -0.89171 q 0,-4.67087 -1.61357,-6.6666 -1.61358,-2.03819 -5.05303,-2.03819 z"
        stroke="white"
        stroke-width="1"
      />
      <path
        d="m 139.46279,99.059358 q 4.07639,0 6.15705,1.995732 2.08065,1.95327 2.08065,6.36936 v 14.81938 h -3.69422 v -14.5646 q 0,-5.47765 -5.09549,-5.47765 -3.77916,0 -5.22288,2.12312 -1.44372,2.12312 -1.44372,6.11458 v 11.80455 h -3.73669 V 99.483982 h 3.01483 l 0.55201,3.099758 h 0.21231 q 1.10403,-1.78342 3.0573,-2.632671 1.95327,-0.891711 4.11885,-0.891711 z"
        stroke="white"
        stroke-width="1"
      />
      <path
        d="m 163.53897,99.059358 q 2.9299,0 5.01056,1.273872 2.12312,1.27387 3.22714,3.6093 1.14649,2.29297 1.14649,5.39273 v 2.25051 h -15.5837 q 0.0849,3.86407 1.95327,5.90227 1.91081,1.99573 5.3078,1.99573 2.16558,0 3.82161,-0.38216 1.6985,-0.42462 3.48192,-1.18895 v 3.26961 q -1.74096,0.76432 -3.43945,1.10402 -1.6985,0.38216 -4.03393,0.38216 -3.22714,0 -5.73243,-1.31633 -2.46282,-1.31634 -3.86407,-3.90654 -1.3588,-2.63267 -1.3588,-6.41183 0,-3.73669 1.23141,-6.41182 1.27387,-2.67513 3.52438,-4.11885 2.29297,-1.443722 5.3078,-1.443722 z m -0.0425,3.057292 q -2.67513,0 -4.24623,1.74096 -1.52865,1.6985 -1.82589,4.75579 h 11.59224 q -0.0425,-2.88745 -1.3588,-4.67087 -1.31633,-1.82588 -4.16132,-1.82588 z"
        stroke="white"
        stroke-width="1"
      />
      <path
        d="m 189.31361,99.059358 q 0.63694,0 1.3588,0.08492 0.76432,0.04246 1.31633,0.16985 l -0.46708,3.439457 q -0.55202,-0.12739 -1.23141,-0.21232 -0.63694,-0.0849 -1.23141,-0.0849 -1.74096,0 -3.26961,0.97664 -1.52864,0.93417 -2.46282,2.67513 -0.89171,1.69849 -0.89171,3.99146 v 12.14425 h -3.73669 V 99.483982 h 3.05729 l 0.42463,4.161318 h 0.16985 q 1.10402,-1.86835 2.84498,-3.22715 1.74096,-1.358792 4.11885,-1.358792 z"
        stroke="white"
        stroke-width="1"
      />
    </svg>
  </div>
</template>
<script setup>
import { computed, onMounted, ref } from "vue";

const logopaths = ref([]);
const rgbColor = ref("255 0 0 / 0.7");

onMounted(() => {
  // console.log("logopaths", logopaths.value);
  logopaths.value = document.querySelectorAll("#logo path");
  // console.log("logopaths", logopaths.value);
});

const logoLengths = computed(() => {
  let paths = Array.from(logopaths?.value || []);
  // console.log("paths", paths);
  return paths?.map((lp) => lp?.getTotalLength());
});

const css = computed(() => {
  return {};
});
</script>
<style>
#logo {
  animation: fill 0.5s ease forwards 3.5s;
}
#logo path:nth-child(1) {
  stroke-dasharray: 168;
  stroke-dashoffset: 168;
  animation: line-anim 2s ease forwards;
}
#logo path:nth-child(2) {
  stroke-dasharray: 131;
  stroke-dashoffset: 131;
  animation: line-anim 2s ease forwards 0.3s;
}
#logo path:nth-child(3) {
  stroke-dasharray: 109;
  stroke-dashoffset: 109;
  animation: line-anim 2s ease forwards 0.6s;
}
#logo path:nth-child(4) {
  stroke-dasharray: 67;
  stroke-dashoffset: 67;
  animation: line-anim 2s ease forwards 0.9s;
}
#logo path:nth-child(5) {
  stroke-dasharray: 180;
  stroke-dashoffset: 180;
  animation: line-anim 2s ease forwards 1.2s;
}
#logo path:nth-child(6) {
  stroke-dasharray: 120;
  stroke-dashoffset: 120;
  animation: line-anim 2s ease forwards 1.5s;
}
#logo path:nth-child(7) {
  stroke-dasharray: 131;
  stroke-dashoffset: 131;
  animation: line-anim 2s ease forwards 1.8s;
}
#logo path:nth-child(8) {
  stroke-dasharray: 75;
  stroke-dashoffset: 75;
  animation: line-anim 2s ease forwards 2.1s;
}

@keyframes line-anim {
  to {
    stroke-dashoffset: 0;
  }
}
@keyframes fill {
  from {
    fill: transparent;
  }
  to {
    fill: white;
    filter: drop-shadow(3px 10px 2px rgb(v-bind(rgbColor)));
  }
}
</style>
